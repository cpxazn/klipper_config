[gcode_macro UNLOAD_50]
description: Unloads 50mm of filament
gcode:
  {action_respond_info("Unloading filament")}
  {% if printer.pause_resume.is_paused == 1 %}
    {% if printer.extruder.can_extrude == 1 %}
      SAVE_GCODE_STATE NAME=Filament_state
      G91
      G1 E-50 F300
      G90
      {action_respond_info("Done")}
      RESTORE_GCODE_STATE NAME=Filament_state
    {% else %}
      {action_respond_info("Hotend is not heated")}
    {% endif %}
  {% else %}
    {action_respond_info("Printer must be paused")}
  {% endif %}


[gcode_macro LOAD_150]
description: Loads 150mm of filament
gcode:
  {action_respond_info("Loading filament")}
  {% if printer.pause_resume.is_paused == 1 %}
    {% if printer.extruder.can_extrude == 1 %}
      SAVE_GCODE_STATE NAME=Filament_state
      G91
      G1 E150 F300
      G90
      {action_respond_info("Done")}
      RESTORE_GCODE_STATE NAME=Filament_state
    {% else %}
      {action_respond_info("Hotend is not heated")}
    {% endif %}
  {% else %}
    {action_respond_info("Printer must be paused")}
  {% endif %}

[gcode_macro LOAD_50]
description: Loads 50mm of filament
gcode:
  {action_respond_info("Loading filament")}
  {% if printer.pause_resume.is_paused == 1 %}
    {% if printer.extruder.can_extrude == 1 %}
      SAVE_GCODE_STATE NAME=Filament_state
      G91
      G1 E50 F300
      G90
      {action_respond_info("Done")}
      RESTORE_GCODE_STATE NAME=Filament_state
    {% else %}
      {action_respond_info("Hotend is not heated")}
    {% endif %}
  {% else %}
    {action_respond_info("Printer must be paused")}
  {% endif %}